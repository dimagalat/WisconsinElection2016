---
title: "Analysis of the November 2016 Wisconsin election"
author: "Sean Case"
date: "18 November 2016"
output:
  html_document:
    highlight: tango
    theme: journal
    toc: yes
    toc_depth: 2
  pdf_document: default
  word_document:
    fig_caption: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

options(scipen=999) # Effectively disables scientific numbering

require(ggplot2); library(plotly);require(devtools); library(XML); require(rvest); require(stringr);require(xlsx);require(dplyr);require(plyr)
require(agricolae); require(ggplot2); library(gridExtra); library(tidyr); require(corrplot)

# I got this from here: http://stackoverflow.com/questions/31337922/adding-italicised-r-with-correlation-coefficient-to-a-scatter-plot-chart-in-ggpl
corr_eqn <- function(x,y, digits = 2) {
  corr_coef <- round(cor(x, y), digits = digits)
  paste("r == ", corr_coef)
}

default.margin = list(l = 100, r = 80, b = 80, t = 20, pad = 4)
colours = c("grey", "lightcoral", "dark grey", "light blue", "light green","grey","grey")

# library(plotly)
# py <- plot_ly(username="", key="") # Enter your own plotly username and key

setwd("C:\\Users\\s_cas\\Dropbox\\Perso\\2016 voting election county results\\Wisconsin") # Change this to the location of your downloaded data files

candidate.2016.summary = read.csv("candidate.2016.summary.csv")
counties.2016.bycand = read.csv("counties.2016.bycand.csv")
county.2016.vs.2012 = read.csv("county.2016.vs.2012.csv")
counties.2000.2016 = read.csv("counties.2000.2016.csv")
elections.100.years = read.csv("elections.100.years.csv")
all_polls_2012 = read.csv("all_polls_2012.csv")
all_polls_2016 = read.csv("all_polls_2016.csv")
selected_polls_2012.sub = read.csv("selected_polls_2012.sub.csv")
selected_polls_2016.sub = read.csv("selected_polls_2016.sub.csv")

elections.100.years.summary.2016 = subset(elections.100.years, year == 2016)
elections.100.years.postwar = subset(elections.100.years, year >= 1948)

## Comparing the definite poll voters with the final result
poll.summary.2016 = data.frame(c(1:4))
poll.summary.2016$cand.group = c("Donald J. Trump", "Hillary Clinton", "Other","Undecided")
poll.summary.2016$polls.nov = with(selected_polls_2016.sub,
                                   c(mean(trump),mean(clinton),mean(other),mean(undecided,na.rm=T)))
poll.summary.2016$c.1.4. = NULL
poll.summary.2016$polls.nov.def = with(elections.100.years.summary.2016, c(mean.rep.poll.oneweek.defs, mean.dem.poll.oneweek.defs, mean.oth.poll.oneweek.defs,NA))

candidate.2016.summary$polls.nov = with(poll.summary.2016, c(polls.nov[1], polls.nov[2], rep(polls.nov[3],5)))
candidate.2016.summary$polls.nov.def = with(poll.summary.2016, c(polls.nov.def[1], polls.nov.def[2], rep(polls.nov.def[3],5)))

candidate.2016.summary$diff.from.poll = candidate.2016.summary$votes.perc.group - candidate.2016.summary$polls.nov
candidate.2016.summary$diff.from.poll.defs = candidate.2016.summary$votes.perc.group - candidate.2016.summary$polls.nov.def


### 2012 results ###
elections.100.years.summary.2012 = elections.100.years.postwar[2,]

poll.summary.2012 = data.frame(c(1:4))
poll.summary.2012$cand.group = c("Mitt Romney", "Barack Obama", "Other","Undecided")
poll.summary.2012$polls.nov = with(selected_polls_2012.sub,
                                   c(mean(romney),mean(obama),mean(other,na.rm=T),mean(undecided,na.rm=T)))
poll.summary.2012$c.1.4. = NULL
poll.summary.2012$polls.nov.def = with(elections.100.years.summary.2012, c(mean.rep.poll.oneweek.defs, mean.dem.poll.oneweek.defs, mean.oth.poll.oneweek.defs,NA))

poll.summary.2012$vote = with(elections.100.years.summary.2012, c(rep.vote, dem.vote, oth.vote,NA))
poll.summary.2012$vote.perc = with(elections.100.years.summary.2012, c(rep.vote.perc, dem.vote.perc, oth.vote.perc,NA))

poll.summary.2012$diff.from.polls = with(poll.summary.2012, vote.perc - polls.nov)
poll.summary.2012$diff.from.polls.defs = with(poll.summary.2012, vote.perc - polls.nov.def)

poll.summary.2012.nounds = poll.summary.2012[1:3,]
## VISUALISING THE 2016 RESULTS
county.summary.2016.final = subset(counties.2000.2016, year == 2016)
county.2016.vs.2012 = county.2016.vs.2012[order(county.2016.vs.2012$county), ]
added.columns = county.summary.2016.final[,20:28]
county.2016.vs.2012 = cbind(county.2016.vs.2012, added.columns)

county.2016.vs.2012$total.voting.age= as.integer(county.2016.vs.2012$total.voters.age.est)
county.2016.vs.2012.2000ppl = subset(county.2016.vs.2012, turnout > 2000)

county.2016.vs.2012.2000ppl.mildane= subset(county.2016.vs.2012.2000ppl, county != "Milwaukee" & county != "Dane")


county.summary.2016.final$mostly.dem.num = ifelse(county.summary.2016.final$mostly.dem == "Mostly Dem",1,0)
county.summary.2016.final$dem.other.change = county.summary.2016.final$dem.change - county.summary.2016.final$oth.change

county.summary.2016.final.highpop = subset(county.summary.2016.final, total.voting.age > mean(total.voting.age))
county.summary.2016.final$total.voting.age= as.integer(county.summary.2016.final$total.voting.age)
county.summary.2016.final.2000ppl= subset(county.summary.2016.final, turnout > 2000)

county.summary.2016.final.2000ppl.mildane= subset(county.summary.2016.final.2000ppl, county != "Milwaukee" & county != "Dane")

counties.2000.2016.2000ppl= subset(counties.2000.2016, turnout > 2000)

counties.2000.2016.2000ppl.mildane = subset(counties.2000.2016.2000ppl, county != "Milwaukee" & county != "Dane")


counties.2000.2016.2000ppl$medturnout = with(counties.2000.2016.2000ppl, ifelse(turnout > median(turnout),
                                                                                "High voter turnout county","Low voter turnout county"))

  county.2016.vs.2012 = county.2016.vs.2012[order(county.2016.vs.2012$turnout.perc.allage.est), ]
  county.2016.vs.2012$ordered.county.2012.turnout = c(1:length(county.2016.vs.2012$turnout.perc.allage.est))

  county.2016.demrep.wins = group_by(county.2016.vs.2012, dem.2016)
  county.2016.demrep.wins.group = dplyr::summarise(county.2016.demrep.wins,
    turnout.perc.2016 = mean(turnout.perc.allage.est),
   turnout.perc.2012 = mean(turnout.2012.perc)
  )

  county.2016.machines.mostlydem = group_by(county.2016.vs.2012, all.machines,mostly.dem)
  county.2016.machines.mostlydem.group = dplyr::summarise(county.2016.machines.mostlydem,
                                                turnout.perc.2016 = mean(turnout.perc.allage.est),
                                                turnout.perc.2012 = mean(turnout.2012.perc)
  )

  county.2016.machines.mostlydemwins = group_by(county.2016.vs.2012, all.machines,dem.wins)
  county.2016.machines.mostlydemwins.group = dplyr::summarise(county.2016.machines.mostlydemwins,
                                                              turnout.perc.2016 = mean(turnout.perc.allage.est),
                                                              turnout.perc.2012 = mean(turnout.2012.perc)
  )

```

# Summary
* I analysed Wisconsin polling data, historical state level voting data to 1948, and county level data from 2000 to 2016 to see if there was evidence of unusual activity in the 2016 Wisconsin Presidential election.
* The state-level election results did not deviate significantly from historical trends.
* No single county stood out as an outlier when considering voting patterns in the 2016 and 2012 Presidential elections.
* The increase in the 'other' vote, despite matching national trends, appeared to be unusual when considering results on the county level, as it was correlated with the presence of voting machines in the county. However, this finding was highly skewed by counties with a very large relative population (e.g. Milwaukee), and after further analysis, could not be confirmed.
* Municipality / ward level voting statistics are needed to disentangle the link between the presence of voting machines and county population size.


# Update 23-11-16: Influence of voting machines on turnout
Following [this article](http://nymag.com/daily/intelligencer/2016/11/activists-urge-hillary-clinton-to-challenge-election-results.html), suggesting that 2016 voter turnout was affected by the presence of voting machines, I have updated by analysis.

The article states "The academics presented findings showing that in Wisconsin, Clinton received 7 percent fewer votes in counties that relied on electronic-voting machines compared with counties that used optical scanners and paper ballots. Based on this statistical analysis, Clinton may have been denied as many as 30,000 votes; she lost Wisconsin by 27,000."

As a reminder, in the following analysis, I class a county with 'mostly voting machines' as one where 75% or more of the voting districts in the county use at least one type of 'Optical/Digital Scan Tabulator'. I have taken the data on voting machine presence from [this file](https://github.com/Sean-Case/WisconsinElection2016/blob/master/Wisconsin%20election%20stats/voting_equipment_by_municipality_09_2016_xlsx_78114.xlsx1207162619.xlsx) - all types of voting equipment under the heading 'Optical/Digital Scan Tabulator' are counted in this calculation, and are henceforth called 'voting machines'. The definition of 'voting machine' in the article I linked above may explain the discrepancy between my findings and theirs.

Let's first look at the average 2016 county turnout by voting machines and by counties that were won mostly by Democrats or Republicans since the 2000 presidential election. We can see that there is a 4% higher turnout in mostly Republican-voting counties with voting machines compared to mostly Democrat-voting counties with voting machines. The same difference is not visible in counties without voting machines.

```{r vote machine overall, fig.height=6, fig.width=8, message=FALSE, warning=FALSE, echo = FALSE}
 county.2012v2016.perc.diff.2016ord = ggplot(county.2016.machines.mostlydem.group,
                                              aes(x = mostly.dem, y = turnout.perc.2016,
                                                  fill = mostly.dem
                                                  )) +
    # geom_bar(
    #   stat = "identity",
    #   aes(y = county.2016.machines.mostlydem.group$turnout.perc.2012),
    #   fill = "grey",
    #   alpha = 0.5
    # ) +
    geom_bar(stat = "identity") +
    geom_text(label=round(county.2016.machines.mostlydem.group$turnout.perc.2016,0),
            y = county.2016.machines.mostlydem.group$turnout.perc.2016/2, size = 6) +
    scale_y_continuous(
      name = "Percentage turnout in 2016 by mostly Dem voting counties and voting machines.\nGrey bars are 2012 results."
    ) +
    theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.title = element_blank()) +
    facet_wrap(~all.machines) +
    scale_fill_manual(values = c("light blue", "lightcoral"))
  county.2012v2016.perc.diff.2016ord
```

Looking at this at a more granular level, let's divide counties according to how many times that democrats have won the county since 2000. Again, we can see that in counties with a lower number of Democrat wins since 2000, there is a higher turnout in 'voting machine' counties; 5% for counties with no Democrat wins.

```{r vote machine dem wins no, fig.height=6, fig.width=10, message=FALSE, warning=FALSE, echo = FALSE}
  county.2016.machines.mostlydemwins.group = county.2016.machines.mostlydemwins.group[
    order(as.integer(county.2016.machines.mostlydemwins.group$dem.wins)),]

  county.2012v2016.turnout.demwins = ggplot(county.2016.machines.mostlydemwins.group,
                                            aes(x = all.machines, y = turnout.perc.2016,
                                                fill = factor(dem.wins)
                                            )) +
  geom_bar(stat = "identity") +
  geom_text(label=round(county.2016.machines.mostlydemwins.group$turnout.perc.2016,0),
            y = county.2016.machines.mostlydemwins.group$turnout.perc.2016/2, size = 6) +
  scale_y_continuous(
    name = "Percentage turnout in 2016 (%) by no. times since 2000 Democrats\n have won county and presence of voting machines.") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1),
        axis.title.x = element_blank()) +
  facet_wrap(~dem.wins) +
  scale_fill_brewer(type = "seq",guide = guide_legend(title = "Dem. wins since 2000"))
county.2012v2016.turnout.demwins

```

So we can see from the publicly-available data that in the 2016 election, mostly Republican voting counties with voting machines seemed to have a higher turnout than mostly Democrat voting counties with voting machines, which confirms what the article is suggesting.

I also took a look at the counties that could be most responsible for this difference in turnout. In the following figure, I have ordered the counties from low to high turnout. The y axis shows the difference between Republican and Democrat vote in the county, and blue bars show counties with mostly voting machines vs red bars with less or none. From this figure, I would suggest that the Republican-voting counties with voting machines and a higher than average turnout are a priority for investigation, namely Ozaukee, Waukesha, Washington, Vilas, St Croix, and Calumet.

```{r county ordered turnout, fig.height=8, fig.width=12, message=FALSE, warning=FALSE, echo = FALSE}
 county.2016.vs.2012 = county.2016.vs.2012[order(county.2016.vs.2012$turnout.perc.allage.est), ]
  county.2016.vs.2012$ordered.county.2016.turnout = c(1:length(county.2016.vs.2012$turnout.perc.allage.est))

  county.2012v2016.perc.diff.2016ord = ggplot(county.2016.vs.2012,
                                              aes(x = ordered.county.2016.turnout, y = perc.diff,
                                                  fill = all.machines)) +
    geom_bar(stat = "identity") +
    geom_bar(
      stat = "identity",
      aes(y = county.2016.vs.2012$turnout.perc.allage.est - mean(county.2016.vs.2012$turnout.perc.allage.est)),
      fill = "grey",
      alpha = 0.5, width = 0.4
    ) +
    annotate(
      "text",
      x = mean(county.2016.vs.2012$ordered.county.2016.turnout),
      y = min(county.2016.vs.2012$perc.diff),
      label = "More votes for Democrats",
      vjust = 1,
      hjust = 0.5
    ) +
    annotate(
      "text",
      x = mean(county.2016.vs.2012$ordered.county.2016.turnout),
      y = max(county.2016.vs.2012$perc.diff),
      label = "More votes for Republicans",
      vjust = 1,
      hjust = 0.5
    ) +
    scale_y_continuous(
      name = "Percentage vote difference in 2016 by county. Grey bars represent turnout - average county turnout,\nColours represent counties with mostly voting machines - negative values: Democrat win, positive: Republican win"
    ) +
    theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.title = element_blank()) +
    scale_x_discrete(
      limit =  county.2016.vs.2012$ordered.county.2016.turnout,
      labels = as.character(county.2016.vs.2012$county),
      name = NULL
    ) +
    # facet_wrap(~dem.wins)+
    # scale_fill_brewer(type = "seq")
    scale_fill_manual(values = c("light blue","lightcoral"))
  county.2012v2016.perc.diff.2016ord
```



# Introduction
The 2016 Presidential election surprised many with unexpected results in several states that ran counter to the polls, and counter to recent trends in these states. Specifically, the previously-assumed 'safe' states of Wisconsin, Michigan, and Pennsylvania switched from Democrat to Republican, and were key to clinching the victory for Trump.

Concern has surfaced by those close to the events of election night, specifically that the USA was under attack from hackers during November 8. Some feared that hacking may have had some influence on the election, especially in areas where voting machines are in use [e.g. this Facebook post](https://www.facebook.com/andrea.chalupa/posts/10157683999895035?pnref=story). Since the result in Wisconsin was so close, and the result so unexpected (at least judging by the polls close to election day), I decided to use my R skills to try to look deeper into the Wisconsin results. All the input data and code used for this analysis is provided in my [GitHub repository](https://github.com/Sean-Case/Sean-Case.github.io/tree/master/wisconsinvotes).

I had a few questions before going into this analysis. Were the 2016 Wisconsin election results results unexpected compared to historical trends? Did the results deviate significantly from the polling? Did the results vary significantly by county, and did the presence of voting machines in polling stations affect the result in any way?

# State level analysis
## The results did not deviate greatly from the national vote

Nationally, 47.2% voted for Trump vs 47.9% for Clinton nationally, leaving other candidates with 4.9% [uselectionatlas.org](uselectionatlas.org). In Wisconsin (with 95% votes counted at time of writing), Donald Trump won with 47.9% of the vote compared to the 46.9% of Clinton, a difference of only ~27,000 votes. The majority of 'other' voters went for Gary Johnson (3.6 of the 5.1% who voted 'other' in Wisconsin), and Jill Stein received just over 1%, both close to their national averages. 

So far, nothing strange. 

## The November polls were off, but not more than in 2012

I downloaded the data from the 2016 polls in Wisconsin for 2016 from the HuffPost Pollster API, and subset it to looking only at polls started 7 days before the election or later. Focusing on decided voters only, Clinton underperformed on election day (2.7% lower than poll expectations), Trump overperformed (+2.1%), while 'Others' slightly overperformed (+0.6%). This means that more of the 'undecideds' went to Trump, or that many potential Clinton supporters chose not to turn up.

```{r 2016resultsvspolls, echo=FALSE, fig.cap= "*Percentage votes for the candidates.Lines indicate polling of decided voters,excluding those who were unsure.*"}

candidate.2016.summary.vis.defs = ggplot(candidate.2016.summary,
                                            aes(x = ordered.cands, y = votes.perc, fill = cand,group=1)) +
  geom_bar(stat = "identity") +
  geom_line(stat = "identity",
            aes(y = elections.100.years.summary.2016$mean.dem.poll.oneweek.defs),
            colour = "blue", linetype = 2,
            show.legend = F) +
  geom_line(stat = "identity",
            aes(y = elections.100.years.summary.2016$mean.rep.poll.oneweek.defs),
            colour = "red", linetype = 2,
            show.legend = F) +
  geom_line(stat = "identity",
            aes(y = elections.100.years.summary.2016$mean.oth.poll.oneweek.defs),
            colour = "black", linetype = 2,
            show.legend = F) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1),
        legend.position = "none") +
  scale_y_continuous(
    name =
      "Bars: Votes for the candidates (%).\nLines: polling of decided voters (%)."
  ) +
  scale_x_discrete(
    limit =  candidate.2016.summary$ordered.cands,
    labels = as.character(candidate.2016.summary$cand),
    name = NULL) +
  scale_fill_manual(values = colours)
candidate.2016.summary.vis.defs

# ggplotly(candidate.2016.summary.vis.defs, session = "knitr") %>% #width = 800, height = 600
   # layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad

```

Were the polls particularly innaccurate in Wisconsin in 2016? I compared these polls with those from 2012, focusing again on polls started 7 days before election day. The polls show that deviations from the polling expectations were also close to 3%. So the size of the deviations between the final vote and the polling in November 2016 are not significantly out of line.

```{r resultsvspolls2012and2016, echo=FALSE, fig.cap="*The % difference between likely voter polls started 7 days before the election or later, and the final result of the 2016 presidential election*"}
candidate.2016.summary.small = subset(candidate.2016.summary, votes.rec > 100000)

poll.2016.compare.vis.defs = ggplot(candidate.2016.summary.small, aes(x = cand.group, y = diff.from.poll.defs, fill = cand.group, group = 1)) +
  # geom_line(stat = "identity",show.legend = F, aes(y = elections.100.years.summary.2016$polls.nov)) +
  geom_bar(stat = "identity", show.legend = F) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  coord_cartesian(ylim = c(-5,5)) +
  scale_y_continuous(
    name =
      "Deviance between polls and election outcomes 2016 (%)"
  ) +
  scale_x_discrete(
    limit =  candidate.2016.summary.small$cand.group,
    labels = as.character(candidate.2016.summary.small$cand.group),
    name = NULL) +
  scale_fill_manual(values = c("lightcoral","light blue","dark grey"))
# poll.2016.compare.vis.defs

poll.2012.compare.vis.defs = ggplot(poll.summary.2012.nounds, aes(x = cand.group, y = diff.from.polls.defs, fill = cand.group, group = 1)) +
  # geom_line(stat = "identity",show.legend = F, aes(y = elections.100.years.summary.2016$polls.nov)) +
  geom_bar(stat = "identity", show.legend = F) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  coord_cartesian(ylim = c(-5,5)) +
  scale_y_continuous(
    name =
      "Same for 2012"
  ) +
  scale_x_discrete(
    limit =  poll.summary.2012.nounds$cand.group,
    labels = as.character(poll.summary.2012.nounds$cand.group),
    name = NULL) +
  scale_fill_manual(values = c("light blue","lightcoral","dark grey"))
# poll.2012.compare.vis.defs

compare.2016.2012.polls.plotnames = c("poll.2016.compare.vis.defs",
                                      "poll.2012.compare.vis.defs")
compare.2016.2012.polls = marrangeGrob(
  grobs = mget(compare.2016.2012.polls.plotnames),
  nrow = 1,
  ncol = 2,
  top = NULL
)
compare.2016.2012.polls
```
Of course, this result will be affected by the polls you choose to compare with the final results, so I cannot discount that other analyses will find another result! I felt that by choosing polls closest to the elections, and considering only likely, decided voters, we could get the most accurate picture of what the pollsters expected. However, I am happy to be corrected.

## The swing in votes and turnout fit within historical trends

```{r historical.dems.vs.turnout, echo=FALSE, fig.cap="*Democrat and other votes with time (%). Grey bars indicate votes for 'other' candidates. Line indicates % turnout. Bars are coloured according to winning party in Wisconsin that year.*"}

# Change in Dem votes compared to last election with turnout swing line
historical.election.data.dem.votes = ggplot(elections.100.years.postwar,
                                  aes(
                                    x = year,
                                    y = dem.vote.perc,
                                    fill = winner,
                                    group = 1
                                  )) +
  geom_bar(stat = "identity") +
  geom_line(
    aes(y = elections.100.years.postwar$turnout.perc),
    alpha = 0.5,
    stat = "identity",
    colour = "black"
  ) +
  geom_bar(stat = "identity",fill = "grey", show.legend = FALSE, width = 2,
           aes(y = oth.vote.perc)
           ) +
  scale_y_continuous(
    name = "Bars: election votes (%). Line: turnout (%)") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  scale_x_continuous(breaks = seq(1948,2016,4)) +
  scale_fill_manual(values = c("light blue", "lightcoral"))
historical.election.data.dem.votes

  # ggplotly(historical.election.data.dem.votes, session = "knitr") %>% # , width = 800, height = 600
  # layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad
  
  # Here's what we can do with the layout function: https://plot.ly/r/reference/#Layout_and_layout_style_objects
```

Comparing the 2016 election to those back to 1948, it does not appear that the votes for the Democrats, or turnout, differed significantly from historical trends. The 'other' vote percentage is noticeable, as it is the highest recorded since 1948; However, we have previously noted that this percentage matched the national average.

One other thing to note is that Wisconsin has voted Democrat since 1988, making 2016 the year to break a 7-election trend. Unusual, but nowhere near enough to note anything suspicious.

One other factor we can consider with this data is the % swing in votes or turnout from one election to the next.
```{r swing.historic, echo=FALSE, fig.cap="*Swing vote percentage from previous election with time. The line indicates change in % turnout compared with previous election*", warning=FALSE}
historical.election.data.swing = ggplot(elections.100.years.postwar,
                                  aes(
                                    x = year,
                                    y = swing.vote.perc,
                                    fill = winner,
                                    group = 1
                                  )) +
  geom_bar(stat = "identity") +
  geom_line(
    aes(y = elections.100.years.postwar$swing.turnout.perc),
    alpha = 0.5,
    stat = "identity",
    colour = "black"
  ) +
  scale_y_continuous(
    name =
      "Bars: vote swing (%), Lines: change in turnout (%)"
    ) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  annotate(
    "text",
    x = mean(elections.100.years.postwar$year),
    y = min(elections.100.years.postwar$swing.vote.perc),
    label = "Vote swing towards Democrats",
    vjust = 1,
    hjust = 0.5
  ) +
  annotate(
    "text",
    x = mean(elections.100.years.postwar$year),
    y = max(elections.100.years.postwar$swing.vote.perc),
    label = "Vote swing towards Republicans",
    vjust = 1,
    hjust = 0.5
  ) +
  scale_fill_manual(values = c("light blue","lightcoral"))
historical.election.data.swing
# ggplotly(historical.election.data.swing, session = "knitr") %>% # , width = 800, height = 600
# layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad
  
```
This figure shows that although there was a significant vote swing from Democrats to Republican (~8%), the magnitude of this swing was not large in historical terms. Overall turnout was down by ~3% compared to the previous election.

So far, nothing suspicious. We need to go deeper into the data, so now we go to the county level.

# County level analysis
## There was a broad spread of voting for candidates by county and no noticeable outliers
The [Wisconsin Elections Commission website](http://elections.wi.gov/) provides county-level voting results back to 2000, as well as additional data about voter population and the municipalities that use voting machines. I downloaded a lot of this data, which you can see and download yourself from my [GitHub repository](https://github.com/Sean-Case/Sean-Case.github.io/tree/master/wisconsinvotes). This data was used for the following analysis.

```{r counties clinton vote turnout, echo=F, fig.cap="*Percentage vote for Clinton in Wisconsin counties. Bars are coloured according to the winning party in each county (see legend). Grey bar behind indicates percentage turnout*", fig.height=6, fig.width=10}
county.2016.vs.2012 = county.2016.vs.2012[order(county.2016.vs.2012$dem.votes.perc), ]
county.2016.vs.2012$ordered.county.2016.dem.votes.perc = c(1:length(county.2016.vs.2012$dem.votes.perc))

# Visualising votes for clinton by county and by turnout. Turnout does not seem to differ drastically according to
# Republican won or Clinton won county
county.perc.winner = ggplot(
  county.2016.vs.2012,
  aes(
    x = county.2016.vs.2012$ordered.county.2016.dem.votes.perc,
    y = dem.votes.perc,
    fill = winner
  )) +
  geom_bar(
    aes(y = county.2016.vs.2012$turnout.perc.allage.est ),
    stat = "identity",
    fill = "grey"
  ) +
  geom_bar(stat = "identity", alpha = 0.6) +
  scale_y_continuous(name =
  paste("Blue/red bars: percentage vote Democrats, filled by winner (%).\nGrey bar: voter turnout (%)")) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1, size = 7)) +
  scale_x_discrete(
    limit =  county.2016.vs.2012$ordered.county.2016.dem.votes.perc,
    labels = as.character(county.2016.vs.2012$county),
    name = NULL
  ) +
  scale_fill_manual(values = c("light blue", "lightcoral"))
county.perc.winner
# ggplotly(county.perc.winner, session = "knitr") %>% # , width = 800, height = 600
# layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad
```

This above figure shows us that 1. With a few exceptions*, there was a broad spread of votes for Clinton across counties in Wisconsin, 2. there were a lot less counties won by Clinton than Trump, and 3. the party that won a county did not seem to be linked to the percentage turnout. We can confirm this with a scatter graph. The following shows that the Clinton vote did not drop with turnout percentage in each county.

**(for example Milwaukee and Dane, which are historically Democrat-leaning, urban counties.)*

```{r clinton v turnout, echo=F, fig.cap="*Percentage vote for Clinton in Wisconsin counties against turnout percentage in the county.*"}
county.perc.turnout.dems = ggplot(
  county.2016.vs.2012.2000ppl,
  aes(
    y = dem.votes.perc,
    x = turnout.perc.allage.est,
    colour = winner
  )
) +
  geom_smooth(colour = "grey", method = "lm", se = F) +
  geom_point() +
  geom_text(size = 0.5,show.legend = F, label = county.2016.vs.2012.2000ppl$county) +
  geom_text(x = 60, y = 70,
              label = corr_eqn(county.2016.vs.2012.2000ppl$dem.votes.perc,
                               county.2016.vs.2012.2000ppl$turnout.perc.allage.est), parse = TRUE,
              show.legend = F, colour = "black") +
  scale_y_continuous(name = "Percentage vote for Democrats (%)") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  scale_x_continuous(name = "Percentage turnout (%)") +
  # facet_wrap(~mostly.dem, ncol = 1, nrow = 2) +
  scale_fill_manual(values = c("light blue","lightcoral"))
# county.perc.turnout.dems
# ggplotly(county.perc.turnout.dems, session = "knitr")

```

It is also worth considering the change in votes for 'other' candidates between 2012 and 2016. The following figure shows that 1. there is a broad spread in voting 'other' by county, without any outlying counties that jump out (apart from Menominee, which is the county with the smallest population), and 2. votes for 'other' did not seem to be correlated with the change in voter turnout from 2012.

```{r other votes vs turnout, echo = F, fig.cap = "*Votes for 'other' candidates in 2016 by county and change in turnout from 2012 (%).*", fig.height=6, fig.width=10}
county.2016.vs.2012 = county.2016.vs.2012[order(county.2016.vs.2012$oth.votes.perc), ]
county.2016.vs.2012$ordered.county.2016.oth.votes.perc = c(1:length(county.2016.vs.2012$oth.votes.perc))


# Republican won or Clinton won county
county.perc.winner.other = ggplot(
  county.2016.vs.2012,
  aes(
    x = county.2016.vs.2012$ordered.county.2016.oth.votes.perc,
    y = oth.votes.perc,
    fill = winner
  )) +
  geom_bar(
    aes(y = county.2016.vs.2012$swing.turnout.perc),
    stat = "identity",
    fill = "grey", width = 0.8
  ) +
  geom_bar(stat = "identity", alpha = 0.6) +
  scale_y_continuous(name =
                       paste("Percentage vote for 'Other' in Wisconsin counties.\nGrey bar behind indicates change in turnout from 2012 (%)")) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1, size = 7)) +
  scale_x_discrete(
    limit =  county.2016.vs.2012$ordered.county.2016.oth.votes.perc,
    labels = as.character(county.2016.vs.2012$county),
    name = NULL
  ) +
  scale_fill_manual(values = c("light blue", "lightcoral"))
county.perc.winner.other
```

## There was a large swing from Democrat to Republican in many counties
The following figure shows that in many counties, the vote swung significantly from Democrat to Republican compared to the 2012 election (often a 20 - 30% swing). However, there is no single county that stands out as an outlier in terms of an unusual switch from Democrat to Republican between 2012 and 2016.

```{r swing 2012, echo = F, fig.cap="*Percentage vote difference in 2012 and 2016 by county.Grey bars are 2012 results, red bars are overlaid 2016 results. Negative = Democrat win, positive = Republican win*", fig.height=6, fig.width=10}

# Visualising county data 2012 vs 2016
  county.2016.vs.2012 = county.2016.vs.2012[order(county.2016.vs.2012$diff.2012.perc), ]
  county.2016.vs.2012$ordered.county.2012.perc.diff = c(1:length(county.2016.vs.2012$diff.2012.perc))

county.2012v2016.perc.diff.2016ord = ggplot(county.2016.vs.2012,
                                            aes(x = ordered.county.2012.perc.diff, y = diff.2012.perc)) +
  geom_bar(stat = "identity") + geom_bar(
    stat = "identity",
    aes(y = county.2016.vs.2012$perc.diff),
    fill = "red",
    alpha = 0.5
  ) +
  annotate(
    "text",
    x = county.2016.vs.2012$ordered.county.2012.perc.diff[county.2016.vs.2012$county == "Marquette"],
    y = quantile(county.2016.vs.2012$diff.2012.perc)[1],
    label = "Vote swing towards Democrats",
    vjust = 1,
    hjust = 0.5
  ) +
  annotate(
    "text",
    x = county.2016.vs.2012$ordered.county.2012.perc.diff[county.2016.vs.2012$county == "Marquette"],
    y = max(county.2016.vs.2012$diff.2012.perc) + 10,
    label = "Vote swing towards Republicans",
    vjust = 1,
    hjust = 0.5
  ) +
  scale_y_continuous(
    name = "Vote difference in 2012 and 2016 by county (%),\nNegative = Democrat, positive = Republican ") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1, size = 7)) +
  scale_x_discrete(
    limit =  county.2016.vs.2012$ordered.county.2012.perc.diff,
    labels = as.character(county.2016.vs.2012$county),
    name = NULL
  ) +
  scale_fill_manual(values = c("light blue", "lightcoral"))
county.2012v2016.perc.diff.2016ord
# ggplotly(county.2012v2016.perc.diff.2016ord, session = "knitr") %>% # , width = 800, height = 600
# layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad

```
Although there was a significant swing from Democrat to Republican in many counties, in such a close election race, only small amounts of manipulation would be necessary to swing a few thousand votes here and there to change the result. Ideally, to investigate this further, I would go down to the next voting level to check for outliers or other unusual trends (the level of ward/municipality). However, this information being lacking, I can instead stay at the county level, and look at whether the presence of electronic voting machines was at all linked to the voting outcome.

## It is not possible to confirm that Optical/digital scan machine presence is linked to voting patterns
One interesting dataset provided by the Wisconsin Election Commission is the presence of Optical/Digital Scan Tabulator (from now on called voting machines) on a ward-by-ward basis. I made the assumption that any manipulation of the election results would be more likely to occur in wards / counties that have a higher proportion of Optical/Digital Scan Tabulators. I have incorporated this information into the data.

```{r machines by county, echo = F, fig.cap="*Presence of voting machines by county, with primary machine vendor / supplier*"}
# Now, let's order the counties by proportion of municipalities using voting machines
county.summary.2016.final = county.summary.2016.final[order(county.summary.2016.final$use.machines.prop), ]
county.summary.2016.final$use.machines.prop.order = c(1:length(county.summary.2016.final$use.machines.prop))

# Machines by county
county.vs.machines.bar = ggplot(
  county.summary.2016.final,
  aes(x = county.summary.2016.final$use.machines.prop.order, y = use.machines.prop * 100,
      fill = machine.most.used)
) +
  geom_bar(stat="identity") +
  scale_y_continuous(name = "Use of voting machines in each county (%)") +
  scale_x_discrete(
    limit =  county.summary.2016.final$use.machines.prop.order,
    labels = as.character(county.summary.2016.final$county),
    name = NULL) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1, size = 6)) +
  scale_fill_discrete(name = "Primary machine vendor")
# county.vs.machines.bar
# ggplotly(county.vs.machines.bar, session = "knitr", width = 800, height = 600) %>% 
# layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad

```

In order to determine the influence voting machines in a county alongside the many other potentially interacting factors that can affect the vote in each county, it is important to consider them side by side. One of the ways to quickly determine which factors are linked is by using a correlation matrix.

The factors that I assumed were potentially linked for the 2016 county vote were: 1. the change in Republican, Democrat, or 'Other' candidate vote since the last election (%), 2. the change in voter turnout (%), 3. the overall turnout, which also serves as a proxy for population (no. of people), 4. the proportion of municipalities / wards in the county that use voting machines, and 5. the historical voter loyalty of the county, which I input as the number of times Democrats have won the Presidential election vote in that county from 2000-2016. 

I have summarised the analysis of these interactions in a correlation matrix below. Numbers closer to 1 or -1 indicate a stronger positive or negative correlation respectively. 

```{r correlation.table, echo=F, fig.cap="*The correlation between variables included in the 2016 county-level vote analysis. From left to right: 1. the change in the Democratic vote % from 2012 to 2016, 2. the same for the Republican vote, 3. the same for the Other vote, 4. the change in percentage turnout from 2012 to 2016, 5. the number of people who voted, 6. the proportion of wards / municipalities in the county that use voting machines, 7. the number of times that Democrats have won the county in a Presidential election from 2000 to 2016.*", fig.height=9, fig.width=8}
corr.table = with(county.summary.2016.final.2000ppl, data.frame(dem.change, rep.change,
                                                  oth.change,swing.turnout.perc,turnout,
                                                  use.machines.prop,dem.wins))
correlationmatrix = cor(corr.table, use = "pairwise.complete.obs")
corrplot.all = corrplot(correlationmatrix, method = "number", type = "upper")
# corrplot.all
```
In this figure we can see that the vote change for Democrat or Republican is highly correlated with the voter turnout in the county. This factor is a proxy for county population, and suggests that the 2016 election was linked to the 'rural/urban' divide in Wisconsin; i.e. rural areas more often voted Republican, and urban areas more often voted Democrat.

We can see that the presence of voting machines in the counties is somewhat correlated with the overall turnout in the county. This indicates that the counties with the largest counties are more likely to have voting machines installed. When considering the change in Democrat or Republican votes between 2012 and 2016, they are highly correlated with both overall turnout AND the presence of voting machines.

What this means is that the counties with the largest population, that also have the most voting machines installed, are more likely to vote Democrat. It is very difficult to untangle the relative effects of county population size and the presence of voting machines from this data. So, it is not worth looking further in this direction.

If we look at the change in vote for 'Other' candidates, we can see that it is quite highly correlated with the increase in voting machines (0.62), but is not correlated with the change in turnout (0.23). Also, counties that voted more Democrat (correlated 0.49) were much more likely to have a higher 'Other' vote percentage than counties that voted more Republican (correlated -0.61).

What does this mean in reality? This would suggest that counties that voted more for 'Other' candidates were 1. more likely to be 'Democrat' voting counties, and 2. more likely to have voting machines installed. Just think - if you wanted to switch an election in a swing state, one way to do this would be to switch several thousand Democrat votes to 'Other' in a few Democrat-voting counties. As long as the Republican candidate has just slightly more than the Democrat, you get the full set of Electoral College votes. That is my hypothesis from this result, BUT! Don't get excited yet...

The voter turnout variable contains a couple of large outliers (Milwaukee and Dane counties have very big turnouts compared to the rest) which seemed to be skewing the results So I decided it was worth transforming the 'turnout' variable (natual log) to try to account for this. The resulting correlation matrix I produced is below.

```{r correlation, echo=F, fig.cap="*The correlation between variables included in the 2016 county-level vote analysis. From left to right: 1. the change in the Democratic vote % from 2012 to 2016, 2. the same for the Republican vote, 3. the same for the Other vote, 4. the change in percentage turnout from 2012 to 2016, 5. the natural log of the number of people who voted, 6. the proportion of wards / municipalities in the county that use voting machines, 7. the number of times that Democrats have won the county in a Presidential election from 2000 to 2016.*", fig.height=9, fig.width=8}
corr.table.log = with(county.summary.2016.final.2000ppl, data.frame(dem.change, rep.change,
                                                  oth.change,swing.turnout.perc,log(turnout),
                                                  use.machines.prop,dem.wins))
correlationmatrix.log = cor(corr.table.log, use = "pairwise.complete.obs")
corrplot.all.log = corrplot(correlationmatrix.log, method = "number", type = "upper")
```

Now we can see that the change in vote for other between 2012 and 2016 is highly correlated with the log of the turnout (0.61). So, indeed, the largest counties in Wisconsin are skewing the correlation outputs. This is because Wisconsin has many small population counties (e.g. Milwaukee and Dane). So again, it is difficult to untangle the relationship between voter population per county and the presence of voting machines.

**Note: This is not saying that the change in vote for 'Other' candidates is not linked to the presence of voting machines, I am just saying that I don't have enough data to conclude either way. I would need municipal / ward level voting data to confirm. Particularly, wards in Milwaukee and should be checked in detail, as the reduction in turnout in this Democrat-leaning county alone (-57,000 people compared to 2012) would probably have been enough to lose Wisconsin (vote difference Trump-Clinton ~27,000 votes), quite apart from considering any other county!**

Anyway, we are back to square 1. Since the results are not consistent when using the original turnout numbers or the logged turnout numbers, we cannot conclude that the other vote change was linked to voting machines, and not just overall turnout. This outcome is illustrated below.

```{r correlation turnout with other, echo=F, fig.cap="*The correlation between the change in vote for other candidates between 2012 and 2016 with the voter turnout by county, on top non-transormed, and on bottom transformed by the natural log*"}
# Change in those voting 'other' between 2012 and 2016 by absolute turnout
# {
  county.2012v2016.change.oth.turnout.point = ggplot(county.summary.2016.final.2000ppl,
                                                     aes(x = turnout, y = oth.change, colour = winner)) +
    geom_smooth(alpha = 0.5, colour = "grey", method = "lm", se = F) +
    geom_point(stat = "identity") +
    scale_y_continuous(
      name = "Change in vote\nfor other 2012 - 2016 (%)"
    ) +
    scale_x_continuous(
      name = "Turnout numbers in 2016"
    ) +
    geom_text(x = 100000, y = 5,
              label = corr_eqn(county.summary.2016.final.2000ppl$turnout,
                               county.summary.2016.final.2000ppl$oth.change), parse = TRUE,
              show.legend = F, colour = "black") +
    theme(axis.text.x = element_text(angle = 0, hjust = 0.5)) +
    scale_colour_manual(values = c("light blue", "lightcoral"))
  # county.2012v2016.change.oth.turnout.point
#   ggplotly(county.2012v2016.change.oth.turnout.point, session = "knitr") %>% # , width = 800, height = 600
# layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad
# }

# Change in those voting 'other' between 2012 and 2016 by log of turnout
# {
  county.2012v2016.change.oth.turnout.log.point = ggplot(county.summary.2016.final.2000ppl,
                                                     aes(x = log(turnout), y = oth.change, colour = winner)) +
    geom_smooth(alpha = 0.5, colour = "grey", method = "lm", se = F) +
    geom_point(stat = "identity") +
    scale_y_continuous(
      name = "Change in vote\nfor other 2012 - 2016 (%)"
    ) +
    scale_x_continuous(
      name = "Log of turnout 2012 - 2016"
    ) +
    geom_text(x = 8, y = 5,
              label = corr_eqn(log(county.summary.2016.final.2000ppl$turnout),
                               county.summary.2016.final.2000ppl$oth.change), parse = TRUE,
              show.legend = F, colour = "black") +
    theme(axis.text.x = element_text(angle = 0, hjust = 0.5)) +
    scale_colour_manual(values = c("light blue", "lightcoral"))
  # county.2012v2016.change.oth.turnout.log.point
# }

other.turnout.2016.2012.compare.plotnames = c("county.2012v2016.change.oth.turnout.point",
                                              "county.2012v2016.change.oth.turnout.log.point")
other.turnout.2016.2012.compare = marrangeGrob(
  grobs = mget(other.turnout.2016.2012.compare.plotnames),
  nrow = 2,
  ncol = 1,
  top = NULL)
other.turnout.2016.2012.compare
#   ggplotly(other.turnout.2016.2012.compare, session = "knitr") %>% # , width = 800, height = 600
# layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad
```

Like I already mentioned, what we really need is municipality or ward-level data in order to remove the effect of greatly-varying local population numbers. Until this data is available, we can only show general descriptive graphs of the Wisconsin vote, and I will highlight a few interesting graphs of the 'other' vote that may be worth looking into in greater depth later, if more data becomes available.

One final interesting finding from these correlation tables is the lack of any correlation with previous Democrat wins in the county from 2000. This means that in general, the Wisconsin counties are not loyal to any particular party.

## County results 2000 - 2016: the rise of the vote for 'Other' candidates

I did not see a clear link between the presence of voting machines and party vote at the county level in 2016. However, I did see a *potential' link between the other vote and the presence of voting machines. I still think it is worth investigating 'Other' candidate voting trends from 2000 - 2016 and the link to voting machines, in case there are unusual divergences. When/if more 2016 voting data becomes available, I can investigate this further.

The following figures show the change in votes for 'Other' candidates with time according to the use of machines or the by the previous voting record of the county (Democrat or Repulican). It is quite clear that in 2016, the 'Other' vote was particularly high compared to previous elections.

The vote percentage for 'other' candidates was generally higher in 2016 than in earlier elections, and was even higher for counties that use voting machines. However, the difference was similar whether the county has mostly voted Democrat or Republican since 2000. This suggest that broadly, Democrat-leaning counties with voting machines did not have a different vote for 'other' candidates compared to Republican-leaning counties.

```{r correlationgraph machines other vote, echo=F, fig.cap="*Other vote by use of voting machines in county (%) and the counties that have chosen mostly Democrat or Republican since 2000. Points are individual county results lines are a mean of the counties in each category.*", fig.height=6, fig.width=10, message=FALSE, warning=FALSE}
historical.oth.vote.perc.graph = ggplot(counties.2000.2016.2000ppl,
                                        aes(x = year, y = oth.vote.perc, colour = all.machines,
                                            group = all.machines)) +
  geom_jitter(alpha = 0.6, width = 0.2) +
  geom_smooth() +
  # geom_text(aes(label = counties.2000.2016.2000ppl$county), size = 0.5) +
  scale_y_continuous(name = "'Other' candidate vote by use of voting machines in county (%)") +
  theme(axis.text.x = element_text(angle = 0, hjust = 0.5), legend.title = element_blank()) +
  scale_x_continuous(breaks = c(seq(2000,2016,4))) +
  scale_colour_manual(values = c("light blue","lightcoral"))  +
  facet_wrap(~mostly.dem)
historical.oth.vote.perc.graph
   # ggplotly(historical.oth.vote.perc.graph, session = "knitr", width = 800, height = 600) #%>%  
# layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad
```

```{r correlationgraph machines other change, echo=F, fig.cap="*Change in other vote (%) by use of voting machines in county (%) and the counties that have chosen mostly Democrat or Republican since 2000. Points are individual county results, lines are a mean of the counties in each category.*", fig.height=6, fig.width=10, message=FALSE, warning=FALSE}
historical.oth.vote.perc.change.graph = ggplot(counties.2000.2016.2000ppl[counties.2000.2016.2000ppl$year > 2000,],
                                        aes(x = year, y = oth.change, colour = all.machines,
                                            group = all.machines)) +
  geom_jitter(alpha = 0.6, width = 0.2) +
  geom_smooth() +
  # geom_text(aes(label = counties.2000.2016.2000ppl$county), size = 0.5) +
  scale_y_continuous(name = "Change in 'Other' candidate vote from previous election by county (%)") +
  theme(axis.text.x = element_text(angle = 0, hjust = 0.5), legend.title = element_blank()) +
  scale_x_continuous(breaks = c(seq(2000,2016,4))) +
  scale_colour_manual(values = c("light blue","lightcoral"))  +
  facet_wrap(~mostly.dem)
historical.oth.vote.perc.change.graph
  # ggplotly(historical.oth.vote.perc.change.graph, session = "knitr", width = 800, height = 600) #%>% # , width = 800, height = 600
# layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad
```

In the other voter graph below, note how the high-population counties skew the results (particularly Milwaukee and Dane counties). This again highlights the need for ward-level voting data in order to conduct a full analysis of this voting data.

```{r correlationgraph machines other numbers, echo=F, fig.height=6, fig.width=10, message=FALSE, warning=FALSE, fig.cap="*Change in other vote (number of people) by use of voting machines in county (%), and by the counties that have chosen mostly Democrat or Republican since 2000. Points are individual county results, lines are a mean of the counties in each category. The error bars are particularly large here because of Milwaukee and Dane counties.*"}

historical.oth.vote.graph = ggplot(counties.2000.2016.2000ppl,
                                   aes(x = year, y = oth.vote, colour = all.machines,
                                       group = all.machines)) +
  geom_jitter(alpha = 0.6, width = 0.2) +
  geom_smooth(method = "loess") +
  # geom_text(aes(label = counties.2000.2016.2000ppl$county), size = 0.5) +
  scale_y_continuous(name = "Number of 'Other' candidate voters by county") +
  theme(axis.text.x = element_text(angle = 0, hjust = 0.5), legend.title = element_blank()) +
  scale_x_continuous(breaks = c(seq(2000,2016,4))) +
  scale_colour_manual(values = c("light blue","lightcoral"))  +
  facet_wrap(~mostly.dem)
historical.oth.vote.graph
  # ggplotly(historical.oth.vote.graph, session = "knitr", width = 800, height = 600) #%>% # , width = 800, height = 600
# layout(bargap = 3, autosize=T, margin = default.margin) # l, r, b, t, pad

```

# Conclusion

In general, the Wisconsin 2016 elections fell within historical ranges in terms of turnout, votes for Democrat and Republican party, and swing from Democrat to Republican. This election does stand out in terms of the increased votes for 'other' parties compared to previous contests; however this trend parties matched closely the national averages.

I checked the results of the Wisconsin election at the county level to see if there was anything unusual. Changes in voting patterns in 2016 could not be attributed to historical county loyalty to one party or another, or a drop in turnout that affected one party more than another. County population (possibly an indicator of the urban-rural divide), was highly linked to votes for one party over another. County population was also closely linked to the number of voting machines used in the county. There is a potentially interesting trend in terms of the vote for 'Other' candidates in 2016, which is linked to the presence of voting machines in the county; however on further analysis this could not be disentangled from the influence of county population size.

Unfortunately, this meant that it was not possible to separate the effects of turnout number and voting machines on county level voting in Wisconsin in 2016. To fully investigate a potential influence of voting machines further, we need the voting data at the level of voting ward / municipality. This is especially important in counties with high populations, e.g. Milwaukee, where small changes in turnout and vote preference in 2016 could have significantly affected the result.

**Click [here](https://sean-case.github.io/wisconsinvotes/index.html) to go back to the blog home page.**